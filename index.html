<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#c2ad8f">
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js').then(() => console.log("SW registered"));
        }
    </script>

    <title>Den√≠k hrdiny</title>
    <link rel="icon" type="image/png" href="favicon.png"/>

    <!-- Z√°kladn√≠ styl (obsahuje ve≈°ker√© rozlo≈æen√≠ a design bez barev) -->
    <link rel="stylesheet" href="base.css">

    <!-- Aktivn√≠ t√©ma (pouze barvy a promƒõnn√©) -->
    <link id="theme-link" rel="stylesheet" href="theme-parchment.css">
</head>
<body>
<div class="sheet-container">

    <header class="header-top">
        <h1>Den√≠k hrdiny</h1>
        <div id="name-wrapper">
            <div class="header-grid">
                <div class="info-panel">
                    <div class="top-info">
                        <input id="character-name" placeholder="Jm√©no postavy"/>
                        <input id="character-race" placeholder="Rasa"/>
                    </div>
                </div>
            </div>
        </div>
        <div class="sheet-container">

            <div class="app-layout">
                <!-- ===== LEV√â MENU ===== -->
                <nav class="side-menu">
                    <button data-section="stats" class="active">üßô‚Äç‚ôÇÔ∏è Zdroje</button>
                    <button data-section="story">üìú P≈ô√≠bƒõh</button>
                    <button data-section="classes">‚öîÔ∏è Povol√°n√≠</button>
                    <button data-section="skills">üß© Dovednosti</button>
                    <button data-section="spells">‚ú® Kouzla</button>
                    <button data-section="weapons">üó°Ô∏è Zbranƒõ</button>
                    <button data-section="equipment">üß• Vybaven√≠</button>
                    <button data-section="helper">üêæ Pomocn√≠k</button>
                    <button data-section="importexport">üíæ Nastaven√≠</button>
                </nav>

                <!-- ===== HLAVN√ç PANEL ===== -->
                <main class="main-panel">
                    <!-- tady nech√°me v≈°echny p≈Øvodn√≠ sekce -->
                    <section class="section" id="stats-section">
                        <button class="collapsible">üßô‚Äç‚ôÇÔ∏è Zdroje a statistiky</button>
                        <div class="content">
                            <!-- Horn√≠ ≈ô√°dek: vlevo statistiky, vpravo pen√≠ze + XP -->
                            <div class="header-grid">
                                <!-- Lev√°: statistiky -->
                                <div class="stats-panel">
                                    <div class="stat-line">
                                        <label class="stat-name">Tƒõlo
                                            <input id="body-max" class="stat-max-input" type="number" min="1" max="20"
                                                   value="6"/>
                                        </label>
                                        <div id="body-boxes" class="boxes-row"></div>
                                        <textarea id="body-injuries" rows="2"></textarea>
                                    </div>

                                    <div class="stat-line">
                                        <label class="stat-name">Du≈°e
                                            <input id="soul-max" class="stat-max-input" type="number" min="1" max="20"
                                                   value="6"/>
                                        </label>
                                        <div id="soul-boxes" class="boxes-row"></div>
                                        <textarea id="soul-injuries" rows="2"></textarea>
                                    </div>

                                    <div class="stat-line">
                                        <label class="stat-name">Vliv
                                            <input id="influence-max" class="stat-max-input" type="number" min="1"
                                                   max="20" value="6"/>
                                        </label>
                                        <div id="influence-boxes" class="boxes-row"></div>
                                        <textarea id="influence-injuries" rows="2"></textarea>
                                    </div>


                                </div>

                                <!-- Prav√°: pen√≠ze, xp -->
                                <div class="info-panel">
                                    <div class="money-xp">
                                        <label class="stat-name">üí∞ Zdroje</label>
                                        <div class="money-row">
                                            <label>Duk√°ty <input id="money-dukat" type="number" min="0"
                                                                 value="0"/></label>
                                            <label>Gro≈°e <input id="money-gros" type="number" min="0"
                                                                value="0"/></label>
                                            <label>Hal√©≈ôe <input id="money-hal" type="number" min="0"
                                                                 value="0"/></label>
                                        </div>

                                        <div class="xp-row">
                                            <label>XP celkem <input id="xp-total" type="number" min="0"
                                                                    value="0"/></label>
                                            <label>XP nevyu≈æit√© <input id="xp-free" type="number" min="0"
                                                                       value="0"/></label>
                                        </div>

                                        <div class="stat-line">
                                            <label class="stat-name">Ohro≈æen√≠</label>
                                            <div id="danger-boxes" class="boxes-row"></div>
                                        </div>
                                        <div class="stat-line">
                                            <label class="stat-name">V√Ωhoda</label>
                                            <div id="advantage-boxes" class="boxes-row"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="section" id="story-section">
                        <button class="collapsible">üìú P≈ô√≠bƒõh hrdiny</button>
                        <div class="content">
                            <label><strong>Jak se stal hrdinou:</strong></label>
                            <textarea id="origin-story" rows="10" placeholder="P≈Øvod, motivace..."></textarea>

                            <label><strong>Pro≈æit√° dobrodru≈æstv√≠:</strong></label>
                            <div id="adventure-tabs">
                                <div id="adventure-buttons"></div>
                                <textarea id="adventure-text" rows="10" placeholder="Popis dobrodru≈æstv√≠..."></textarea>
                            </div>

                            <label><strong>Povahov√Ω rys:</strong></label>
                            <textarea id="personality-trait" rows="3"></textarea>
                        </div>
                    </section>

                    <section class="section" id="classes-section">
                        <button class="collapsible">‚öîÔ∏è Povol√°n√≠</button>
                        <div class="content">
                            <div id="classes-list" class="list"></div>
                            <button id="add-class" class="add-btn">+ P≈ôidat povol√°n√≠</button>
                        </div>
                    </section>

                    <section class="section" id="skills-section">
                        <button class="collapsible">üß© Dovednosti a schopnosti</button>
                        <div class="content">
                            <label><strong>Rasov√° zvl√°≈°tn√≠ schopnost:</strong></label>
                            <textarea id="racial-ability" rows="3"></textarea>

                            <div id="skills-list" class="items-list"></div>
                            <div class="add-controls">
                                <button id="add-skill" class="add-btn">+ P≈ôidat dovednost</button>
                            </div>
                        </div>
                    </section>

                    <section class="section" id="spells-section">
                        <button class="collapsible">‚ú® Kouzla a ritu√°ly</button>
                        <div class="content">
                            <div id="spells-list" class="items-list"></div>
                            <div class="add-controls">
                                <button id="add-spell" class="add-btn">+ P≈ôidat kouzlo</button>
                            </div>
                        </div>
                    </section>

                    <section class="section" id="weapons-section">
                        <button class="collapsible">üó°Ô∏è Zbranƒõ</button>
                        <div class="content">
                            <div id="weapons-list" class="items-list"></div>
                            <div class="add-controls">
                                <button id="add-weapon" class="add-btn">+ P≈ôidat zbra≈à</button>
                            </div>
                        </div>
                    </section>

                    <section class="section" id="equipment-section">
                        <button class="collapsible">üß• Vybaven√≠</button>
                        <div class="content">
                            <div id="equipment-list" class="items-list"></div>
                            <div class="add-controls">
                                <button id="add-equipment" class="add-btn">+ P≈ôidat vybaven√≠</button>
                            </div>
                        </div>
                    </section>

                    <section class="section" id="helper-section">
                        <button class="collapsible">üêæ Pomocn√≠k</button>
                        <div class="content">
                            <div class="helper-top-row">
                                <div class="half">
                                    <input id="helper-name" class="top-info-input" placeholder="Jm√©no pomocn√≠ka"/>
                                </div>
                                <div class="half">
                                    <div class="stat-line">
                                        <label><b>Pouto </b>
                                            <input id="helper-bond-max" class="stat-max-input" type="number" min="1"
                                                   max="18"/>
                                        </label>
                                        <div id="helper-bond-boxes" class="boxes-row"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="helper-single-row">
                                <input id="helper-boundary" placeholder="Hranice"/>
                                <input id="helper-payment" placeholder="Platba"/>
                            </div>

                            <label><strong>Charakteristika:</strong></label>
                            <textarea id="helper-description" rows="4" placeholder="Popis pomocn√≠ka..."></textarea>
                            <label><strong>Zvl√°≈°tn√≠ schopnosti:</strong></label>
                            <textarea id="helper-abilities" rows="3" placeholder="Seznam schopnost√≠..."></textarea>
                        </div>
                    </section>

                    <section class="section" id="importexport-section">

                        <!-- P≈ôep√≠naƒçe t√©matu ‚Äì mohou b√Ωt kdekoliv ve str√°nce -->
                        <div id="theme-switcher-wrapper">
                            <div id="theme-switcher">
                                <label for="theme-select">Vyber t√©ma:</label>
                                <select id="theme-select">
                                    <option value="theme-parchment.css">Pergamen</option>
                                    <option value="theme-blue.css">Led</option>
                                    <option value="theme-dark.css">K≈Ø≈æe</option>
                                    <option value="theme-red.css">Krev</option>
                                    <option value="theme-green.css">Les</option>
                                </select>
                            </div>
                        </div>

                        <div class="import-export">
                            <button id="save-btn">üíæ Ulo≈æit (localStorage)</button>
                            <button id="export-btn">‚¨áÔ∏è Exportovat JSON</button>
                            <input id="import-file" type="file" accept=".json"/>
                            <button id="reset-btn">üóëÔ∏è Reset den√≠ku</button> <!-- nov√© tlaƒç√≠tko -->
                            <br/><label style="display: block; text-align: right;">v1.1.1, created by Manenguz</label>
                        </div>
                    </section>
                </main>
            </div>

        </div>
    </header>
</div>

<script src="app.js"></script>

<script>
    const themeSelect = document.getElementById('theme-select');
    const themeLink = document.getElementById('theme-link');

    function setTheme(fileName) {
        themeLink.href = fileName;
        localStorage.setItem('theme', fileName);
        themeSelect.value = fileName;
    }

    window.addEventListener('DOMContentLoaded', () => {
        const saved = localStorage.getItem('theme');
        if (saved) setTheme(saved);
        else setTheme('theme-parchment.css'); // v√Ωchoz√≠
    });

    themeSelect.addEventListener('change', () => {
        setTheme(themeSelect.value);
    });
</script>

<script src="app.js"></script>
</body>

</html>
